
(function () {
  function getRegionKey(){var m=location.pathname.match(/\/regions\/([^\/]+)\.html$/);return m?decodeURIComponent(m[1]):null}
  function getDataCoords(el){var lat=parseFloat(el.getAttribute('data-lat'));var lng=parseFloat(el.getAttribute('data-lng'));if(isFinite(lat)&&isFinite(lng))return [lat,lng];return null}
  var BRAND="킹즈마사지 KingsMSG", PHONE="010-4637-9556", SITE="https://kingsmsg.com";
  function injectJSONLD(o){try{var s=document.createElement('script');s.type='application/ld+json';s.textContent=JSON.stringify(o);document.head.appendChild(s);}catch(e){}}
  function makeLocalBusiness(label,lat,lng){var n=(label||"지역");return{"@context":"https://schema.org","@type":["LocalBusiness","Service"],"name":BRAND+" — "+n,"brand":BRAND,"url":location.href,"telephone":PHONE,"priceRange":"₩₩","areaServed":n,"serviceArea":n,"hasMap":"https://maps.google.com/?q="+lat+","+lng,"geo":{"@type":"GeoCoordinates","latitude":lat,"longitude":lng},"address":{"@type":"PostalAddress","addressCountry":"KR","addressRegion":(n.split(' ')[0]||'수도권'),"addressLocality":n},"openingHoursSpecification":[{"@type":"OpeningHoursSpecification","dayOfWeek":["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],"opens":"00:00","closes":"23:59"}]}};
  function makeBreadcrumb(label){return{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"홈","item":SITE+"/"},{"@type":"ListItem","position":2,"name":label||"지역","item":location.href}]}};
  function makeFAQ(){return{"@context":"https://schema.org","@type":"FAQPage","mainEntity":[{"@type":"Question","name":"후불제인가요?","acceptedAnswer":{"@type":"Answer","text":"후불제로 진행됩니다. 배정 확정 후 관리사가 도착하면 결제 안내를 도와드립니다."}},{"@type":"Question","name":"어디까지 방문 가능한가요?","acceptedAnswer":{"@type":"Answer","text":"서울·경기·인천 전지역 방문 배정이 가능합니다. 지역·시간대에 따라 배정 가능 여부가 달라질 수 있습니다."}},{"@type":"Question","name":"예약은 어떻게 하나요?","acceptedAnswer":{"@type":"Answer","text":"상담 번호로 연락 주시면 즉시 가능 지역과 대기 시간을 안내해 드립니다."}},{"@type":"Question","name":"불건전 서비스가 포함되나요?","acceptedAnswer":{"@type":"Answer","text":"불건전 서비스는 제공하지 않습니다. 건전한 힐링 마사지만 진행합니다."}}]}}
  function staticMapUrl(lat,lng,z){z=z||12;return "https://staticmap.openstreetmap.de/staticmap.php?center="+lat+","+lng+"&zoom="+z+"&size=960x220&markers="+lat+","+lng+",lightblue1"}
  function init(lat,lng,label){var el=document.getElementById('region-map');if(!el)return;el.setAttribute('role','img');el.setAttribute('aria-label',(label||"지역")+" 위치 지도");var img=new Image();img.src=staticMapUrl(lat,lng,12);img.alt=(label||"지역")+" 위치 지도";img.width=960;img.height=220;img.decoding="async";img.loading="eager";img.className="map-fallback";el.appendChild(img);function loadLeaflet(){if(window.L)return render();var lc=document.createElement('link');lc.rel='stylesheet';lc.href='https://unpkg.com/leaflet@1.9.4/dist/leaflet.css';lc.crossOrigin='';document.head.appendChild(lc);var s=document.createElement('script');s.src='https://unpkg.com/leaflet@1.9.4/dist/leaflet.js';s.crossOrigin='';s.onload=render;document.head.appendChild(s)}var rendered=false;function render(){if(rendered)return;rendered=true;try{var map=L.map('region-map',{zoomControl:false,attributionControl:false}).setView([lat,lng],12);L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{maxZoom:19}).addTo(map);var m=L.marker([lat,lng]).addTo(map);var openG=function(){window.open('https://maps.google.com/?q='+lat+','+lng,'_blank')};m.on('click',openG);map.on('click',openG)}catch(e){}}if('IntersectionObserver'in window){var io=new IntersectionObserver(function(es){es.forEach(function(ent){if(ent.isIntersecting){loadLeaflet();io.disconnect()}})});io.observe(el)}else{loadLeaflet()}var regionLabel=(label||document.title||"지역").replace(/\s+·\s+/g,' ');injectJSONLD(makeLocalBusiness(regionLabel,lat,lng));injectJSONLD(makeBreadcrumb(regionLabel));injectJSONLD(makeFAQ())}
  function boot(){var el=document.getElementById('region-map');if(!el)return;var coords=getDataCoords(el);if(!coords){var key=getRegionKey();var table=window.__REGION_COORDS__||{};coords=(key&&Object.prototype.hasOwnProperty.call(table,key))?table[key]:null}if(!coords){coords=[37.5665,126.9780]}var label=(document.querySelector('h1')&&document.querySelector('h1').textContent.trim())||"지역";init(coords[0],coords[1],label)}
  if(document.readyState==='loading'){document.addEventListener('DOMContentLoaded',boot)}else{boot()}
})();
