<!DOCTYPE html>

<html lang="ko">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>전국 킹즈마사지 KingS | 킹즈마사지</title>
<link href="styles.css?v5_1-1757714211" rel="stylesheet"/>
<script defer="" src="app.js?v5_1-1757714211"></script>
</head>
<body><header class="header">
<div class="wrap">
<a class="logo" href="index.html"><svg height="36" style="height:32px;width:auto;display:block" viewbox="0 0 180 36" width="180" xmlns="http://www.w3.org/2000/svg">
<defs>
<lineargradient id="gold" x1="0" x2="0" y1="0" y2="1">
<stop offset="0" stop-color="#d4af37"></stop>
<stop offset="1" stop-color="#b08d28"></stop>
</lineargradient>
</defs>
<rect fill="#0f0f0f" height="24" rx="8" stroke="url(#gold)" stroke-width="1" width="24" x="6" y="6"></rect>
<path d="M14 11 v14 M14 18 l9 -7 M14 18 l9 7" fill="none" stroke="url(#gold)" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.6"></path>
<text fill="#f5f2e9" font-size="18" font-weight="800" x="40" y="23">킹즈마사지</text>
</svg></a>
</div>
</header>
<section class="hero">
<div class="wrap">
<nav aria-label="주요 카테고리" class="mega-nav">
<details class="mega-details" id="megaMenu">
<summary class="mega-trigger"><span aria-hidden="true" class="hamburger">≡</span> <span class="label">전체 카테고리</span> <span class="caret">▾</span></summary>
<div class="mega-panel" id="megaPanel">
<div class="mega-col">
<h4>지역별</h4>
<ul>
<li><a href="regions/seoul.html">서울</a></li>
<li><a href="regions/gg.html">경기</a></li>
<li><a href="regions/incheon.html">인천</a></li>
</ul>
</div>
<div class="mega-col">
<h4>전국 매장</h4>
<ul>
<li><a href="#list">전체</a></li>
<li><a href="#list">서울</a></li>
<li><a href="#list">부산</a></li>
</ul>
</div>
<div class="mega-col">
<h4>내주변</h4>
<ul>
<li><a href="nearby.html">내주변</a></li>
</ul>
</div>
<div class="mega-col">
<h4>커뮤니티</h4>
<ul>
<li><a href="community.html">공지사항</a></li>
<li><a href="community.html">이벤트</a></li>
</ul>
</div>
</div>
</details>
<a class="mega-link" href="apply-homecare.html">홈케어</a>
<a class="mega-link" href="apply-roadshop.html">로드샵</a>
</nav>
<!-- HERO TITLE will be injected here -->
<h1><span>전국</span> 킹즈마사지 KingS</h1>
<p>킹즈마사지에서 마사지로 피로감 해방</p>
<div class="mega-panel" hidden="" id="megaPanel">
<div class="mega-col">
<h4>지역별</h4>
<ul>
<li><a href="regions/seoul.html">서울</a></li>
<li><a href="regions/gg.html">경기</a></li>
<li><a href="regions/incheon.html">인천</a></li>
</ul>
</div>
<div class="mega-col">
<h4>전국 매장</h4>
<ul>
<li><a href="#list">전체</a></li>
<li><a href="#list">서울</a></li>
<li><a href="#list">부산</a></li>
</ul>
</div>
<div class="mega-col">
<h4>내주변</h4>
<ul>
<li><a href="nearby.html">내주변</a></li>
</ul>
</div>
<div class="mega-col">
<h4>커뮤니티</h4>
<ul>
<li><a href="community.html">공지사항</a></li>
<li><a href="community.html">이벤트</a></li>
</ul>
</div>
</div>
</div>
</section>
<main class="wrap" style="padding:28px 0">
<section class="page-content">
<div class="topbar">
<div class="wrap">
<span>24시간 문의 · 카톡 <a href="https://open.kakao.com/o/shGxbqRh" rel="noreferrer" target="_blank">@msg00100</a> · 대표번호 <b>010-4637-9556</b></span>
<nav class="topnav">
<a href="#how">이용안내</a>
<a href="#event">이벤트</a>
<a href="#faq">FAQ</a>
</nav>
</div>
</div>
<section class="section wrap" id="list">
<div class="list-head">
<h2>홈케어 인기 업체</h2>
</div>
<div id="listingGrid"></div>
</section>
</section>
</main>
<footer class="footer">
<div class="wrap">
<div class="fcols">
<div>
<div class="logo foot"><svg height="36" style="height:32px;width:auto;display:block" viewbox="0 0 180 36" width="180" xmlns="http://www.w3.org/2000/svg">
<defs>
<lineargradient id="gold" x1="0" x2="0" y1="0" y2="1">
<stop offset="0" stop-color="#d4af37"></stop>
<stop offset="1" stop-color="#b08d28"></stop>
</lineargradient>
</defs>
<rect fill="#0f0f0f" height="24" rx="8" stroke="url(#gold)" stroke-width="1" width="24" x="6" y="6"></rect>
<path d="M14 11 v14 M14 18 l9 -7 M14 18 l9 7" fill="none" stroke="url(#gold)" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.6"></path>
<text fill="#f5f2e9" font-size="18" font-weight="800" x="40" y="23">킹즈마사지</text>
</svg></div>
</div>
<div>
<h4>바로가기</h4>
<ul>
<li><a href="#regions">지역 랜딩</a></li>
<li><a href="#list">업체 목록</a></li>
<li><a href="apply-homecare.html">입점(홈케어)</a></li>
<li><a href="apply-roadshop.html">입점(로드샵)</a></li>
</ul>
</div>
<div>
<h4>고객지원</h4>
<ul>
<li><a href="#how">이용안내</a></li>
<li><a href="#faq">FAQ</a></li>
</ul>
</div>
</div>
<p class="copy">© <span id="year"></span> 킹즈마사지 Hybrid</p>
</div>
</footer>
<script>
/* === Homecare Popular: auto-render from listings.json === */
(function(){
  const grid = document.getElementById('listingGrid');
  if(!grid) return;

  function toTel(v){ return (v||'').replace(/[^0-9+]/g,''); }

  function render(items){
    if(!items || !items.length){
      grid.innerHTML = '<p class="muted">현재 노출할 홈케어 입점업체가 없습니다.</p>';
      return;
    }
    const cards = items.map(it => {
      const href = it.link && it.link !== '#' ? ` href="${it.link}"` : '';
      const phone = it.phone ? `<a class="phone" href="tel:${toTel(it.phone)}">${it.phone}</a>` : '';
      return `
      <article class="card">
        <div class="body">
          <h3 class="name">${it.name || '이름미상'}</h3>
          <div class="meta">
            ${it.region ? `<span class="region">${it.region}</span>` : ''}
            ${phone}
          </div>
          ${it.desc ? `<p class="desc">${it.desc}</p>` : ''}
          ${href ? `<a class="visit"${href}>자세히</a>` : ''}
        </div>
      </article>`;
    }).join('');
    grid.innerHTML = `<div class="popular-grid">${cards}</div>`;
  }

  function sortPopular(arr){
    return arr.slice().sort((a,b)=>{
      const sa = a.sponsor ? 1 : 0;
      const sb = b.sponsor ? 1 : 0;
      if (sb - sa !== 0) return sb - sa;
      return (a.name||'').localeCompare(b.name||'', 'ko');
    });
  }

  (function injectStyle(){
    if (document.getElementById('homecare-popular-style')) return;
    const css = `
    #listingGrid .popular-grid { display:grid; grid-template-columns:repeat(auto-fill, minmax(260px, 1fr)); gap:16px; }
    #listingGrid .card { border:1px solid #eee; border-radius:14px; background:#fff; }
    #listingGrid .card .body { padding:14px; }
    #listingGrid .name { font-size:16px; margin:0 0 6px; }
    #listingGrid .meta { display:flex; gap:10px; flex-wrap:wrap; font-size:12px; color:#666; margin-bottom:8px; }
    #listingGrid .desc { font-size:13px; color:#333; margin:0 0 10px; }
    #listingGrid .visit { display:inline-block; padding:6px 10px; border:1px solid #222; border-radius:10px; text-decoration:none; font-size:12px; }
    #listingGrid .phone { text-decoration:none; }
    #listingGrid .muted { color:#888; font-size:13px; }
    `;
    const style = document.createElement('style');
    style.id = 'homecare-popular-style';
    style.textContent = css;
    document.head.appendChild(style);
  })();

  async function main(){
    try{
      const res = await fetch('listings.json', { cache:'no-store' });
      if(!res.ok) throw new Error('listings.json fetch failed');
      const data = await res.json();
      const homecare = (Array.isArray(data) ? data : (data.listings || []))
        .filter(x => (x.type||'').includes('홈케어'));
      render(sortPopular(homecare));
    }catch(e){
      console.warn('[homecare-popular] load failed:', e);
      render([]);
    }
  }
  main();
})();
/* === /Homecare Popular === */
</script></body>
</html>